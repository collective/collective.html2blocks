---
setup:
  argnames: ["name", "src", "path", "expected"]
  test_args: ["path", "expected"]
params:
  - name: div with one paragraph
    src: <div><p>Hello World!</p></div>
    tests:
      - path: "len:"
        expected: 1
      - path: "0/@type"
        expected: slate
      - path: "0/plaintext"
        expected: Hello World!
      - path: "len:0/value"
        expected: 1
      - path: "0/value/0/type"
        expected: p
      - path: "0/value/0/children/0/text"
        expected: Hello World!

  - name: div with two paragraphs
    src: <div><p>Hello</p> <p>World!</p></div>
    tests:
      - path: "len:"
        expected: 3
      - path: "0/@type"
        expected: slate
      - path: "0/plaintext"
        expected: Hello
      - path: "0/value/0/type"
        expected: p
      - path: "0/value/0/children/0/text"
        expected: Hello
      - path: "1/@type"
        expected: slate
      - path: "1/plaintext"
        expected: ""
      - path: "1/value/0/type"
        expected: p
      - path: "1/value/0/children/0/text"
        expected: " "
      - path: "2/@type"
        expected: slate
      - path: "2/plaintext"
        expected: World!
      - path: "2/value/0/type"
        expected: p
      - path: "2/value/0/children/0/text"
        expected: World!

  - name: div with two spans
    src: <div><span>Olaa</span> <span>World!</span></div>
    tests:
      - path: "len:"
        expected: 1
      - path: "0/@type"
        expected: slate
      - path: "0/plaintext"
        expected: Olaa World!
      - path: "0/value/0/type"
        expected: p
      - path: "len:0/value/0/children"
        expected: 1
      - path: "0/value/0/children/0/text"
        expected: Olaa World!

  - name: Paragraph with two spans
    src: <p><span>Olaa</span> <span>World!</span></p>
    tests:
      - path: "len:"
        expected: 1
      - path: "0/@type"
        expected: slate
      - path: "0/plaintext"
        expected: Olaa World!
      - path: "0/value/0/type"
        expected: p
      - path: "len:0/value/0/children"
        expected: 1
      - path: "0/value/0/children/0/text"
        expected: Olaa World!

  - name: Paragraph with image
    src: <p><span>Olaa</span> <span>World!</span><img src="https://plone.org/news/item" title="A Picture" alt="Picture of a person" class="lazy-load"></p>
    tests:
      - path: "len:"
        expected: 2
      - path: "0/@type"
        expected: slate
      - path: "0/plaintext"
        expected: Olaa World!
      - path: "0/value/0/type"
        expected: p
      - path: "len:0/value/0/children"
        expected: 1
      - path: "0/value/0/children/0/text"
        expected: Olaa World!

  - name: Header with image
    src: <h2><img class="image-left" src="resolveuid/ae57038455c04d05b56aa2bebbb62844" /></h2><p> </p><p>Das BMF hat die Rundschreiben (sog. Verfahrenshinweise) f端r die Haushaltsaufstellung 2022 (2. Regierungsentwurf) sowie f端r 2023 bekanntgegeben. Die Rundschreiben sowie synoptische Gegen端berstellungen der Aufstellungsschreiben f端r die Haushalte 2022 und 2023 finden Sie in den Fachinformationen des PG I 2 (<a class="internal-link" href="resolveuid/2315012e3b114dfeb093bfed26a90e61" target="_self" title="mehr Informationen">Bundeshaushalt 2022</a> und <a class="internal-link" href="resolveuid/971e3d2c598f4ab58ecd6bbc2cc64a05" target="_self" title="mehr Informationen">Bundeshaushalt 2023</a>).</p>
    tests:
      - path: "len:"
        expected: 3
      - path: "0/@type"
        expected: image
